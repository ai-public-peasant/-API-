# 부서 법령 수집 자동화 스킬

이 스킬은 부서 업무 분석 결과를 바탕으로 **관련 법령을 자동으로 수집**하고, 체계적으로 관리하는 작업을 수행합니다.

## 전제 조건
- `dept-analysis` 스킬 완료 (또는 분석된 업무 키워드 보유)
- 국가법령정보센터 API 계정 (OC ID)
- 저장 경로: `03_분석보고서/[부서명]/laws/`

---

## 워크플로우

### 1단계: 초기 법령 목록 확인
사용자에게 다음 정보 요청:
- 부서명 (예: 기획예산실)
- 기존 수집 법령이 있는지 확인
- `legal_framework_[부서명].md` 파일 존재 여부

파일이 있으면 기존 법령 목록 로드, 없으면 업무 키워드 기반으로 초기 리스트 생성

### 2단계: 법령 계층 구조 체크리스트 생성
각 법령에 대해 3단 체계 확인:
- ✅ **법률** (예: 지방재정법)
- ⬜ **시행령** (예: 지방재정법 시행령)
- ⬜ **시행규칙** (예: 지방재정법 시행규칙)

**산출물**: `법령_수집_체크리스트.md`

체크리스트 포함 내용:
- 수집 완료/미완료 상태
- API 다운로드 가능 여부
- 수동 다운로드 필요 항목 (조례, 지침, 매뉴얼 등)

### 3단계: API 자동 다운로드
국가법령정보센터 API 활용:
```
http://www.law.go.kr/DRF/lawSearch.do?OC=[USER_ID]&target=law&type=XML&query=[법령명]
http://www.law.go.kr/DRF/lawService.do?OC=[USER_ID]&target=law&MST=[법령일련번호]&type=XML
```

다운로드 가능 법령:
- 법률
- 대통령령 (시행령)
- 총리령/부령 (시행규칙)
- 일부 규정

**저장 형식**: XML (원본 그대로)
**저장 경로**: `laws/[법령명]_[개정일자].xml`  
**저장 규칙**:
- `[개정일자]`는 API 응답의 공식 시행일자(또는 공포일자)를 `YYYYMMDD` 형식으로 사용한다.
- 공식 법령명이 긴 경우 공백은 `_`로 치환하고, 파일시스템에서 불가한 문자는 `_`로 치환한다.
- 개정일자를 함께 붙여야 기존 버전과 충돌하지 않는다.

### 4단계: 수동 다운로드 안내
API로 불가능한 항목 체크리스트 제공:
- 행정규칙 (훈령, 지침, 고시)
- 지자체 조례/규칙
- 부처별 매뉴얼/업무처리지침

**출력**: 다운로드 링크 및 저장 위치 안내

### 5단계: 연계 법령 분석
다운로드된 법령의 XML 내용을 분석하여 추가 법령 발굴:

**분석 기준**:
- 「다른법령명」 인용 패턴 추출
- "~에 따라", "~을 준용한다" 등의 표현
- 인용 빈도 높은 법령 우선순위 산정

**산출물**: `연계법령_분석결과.md`
- 인용 횟수 TOP 20
- 실무 활용도 높은 법령 추천

### 6단계: 추가 수집 및 반복
연계 법령 중 API 다운로드 가능한 것 자동 수집

**사용자 승인 프로세스**:
1. "다음 법령들을 추가로 다운로드하시겠습니까?" 질문
2. 우선순위별 리스트 제시
3. 승인 받은 항목만 다운로드
4. 2~6단계 반복 (또는 사용자가 중단할 때까지)

---

## 수집 완료 기준

최소 기준:
- 부서 핵심 법령 3단 체계 완성 (법-령-규칙)
- 연계 법령 주요 10개 이상 확보

권장 기준:
- 부서 업무 키워드별 대표 법령 각 1개 이상
- 실무 매뉴얼/지침 3개 이상 확보

---

## 주의사항

### API 사용 시
- 과도한 요청으로 인한 차단 방지: 요청 간 1초 딜레이
- 검색 결과 없을 시 유사 법령명으로 재검색
- 법령 개정으로 인한 구법/신법 혼재 주의

### 파일 관리
- XML 파일명: `법령명_개정일자.xml` 형식 고정 (예: `도로교통법_20241231.xml`)
- 중복 다운로드 방지: 파일 존재 여부 체크
- 백업: laws_backup 폴더에 타임스탬프별 보관

### 계층 구조 확인
- 일부 법령은 시행규칙이 없음 (예: 정부업무평가 기본법)
- 조례는 시행규칙 대신 "시행규정" 사용
- 특별법은 별도 시행령 없이 다른 법령 준용하는 경우 있음

---

## 산출물 예시

### 법령_수집_체크리스트.md
```markdown
# 기획예산실 법령 수집 현황

## 수집 완료 (8개 / 72.7%)
✅ 지방재정법
✅ 지방재정법 시행령
✅ 지방자치단체 기금관리기본법
...

## 수집 필요 (3개)
⬜ 지방재정법 시행규칙 - [수동 다운로드 필요]
⬜ 예산편성 운영지침 (행정안전부 훈령) - [링크]
...
```

---

## 다음 단계: NotebookLM 연동

법령 수집이 완료되면 다음 작업을 권장합니다:

### 🔗 연계 스킬: NotebookLM 지식베이스 구축
**스킬명**: `dept-notebooklm`

수집된 법령을 AI가 읽을 수 있는 형태로 변환하여 NotebookLM에 업로드합니다.

**진행 여부**: "수집된 법령을 NotebookLM에 업로드하시겠습니까?" 질문

이렇게 하면 법령 내용을 AI와 대화하며 학습하거나, 업무 질의응답에 활용할 수 있습니다.
